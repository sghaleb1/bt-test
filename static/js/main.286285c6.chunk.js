(this["webpackJsonpbt-test"]=this["webpackJsonpbt-test"]||[]).push([[0],{11:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(4),r=c.n(n),i=c(2),l=(c(9),c.p+"static/media/logo.a732cbbd.svg"),o=c(0);var j=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)("BT"),r=Object(i.a)(n,2),j=r[0],h=r[1],d=Object(a.useState)(""),b=Object(i.a)(d,2),u=b[0],p=b[1],O=Object(a.useState)(!1),m=Object(i.a)(O,2),f=m[0],x=m[1],v="".concat("https://cors-anywhere.herokuapp.com/","https://newsapi.org/v2/everything?q=").concat(j,"&from=").concat("2021-04-26","&pageSize=").concat(10,"&sortBy=popularity&apiKey=").concat("64462cf79b3d449483ea5f2692e95e60"),N=new Request(v);function g(e){var t=e.data;return Object(o.jsxs)("article",{className:"news",children:[Object(o.jsx)("header",{children:Object(o.jsx)("h2",{className:"news-title",children:t.title})}),Object(o.jsx)("span",{className:"news-publisher",children:t.source.name}),Object(o.jsx)("div",{className:"news-content",children:Object(o.jsx)("p",{children:t.description.replace(/(.{150})..+/,"$1\u2026")})}),Object(o.jsx)("a",{href:t.url,className:"news-url",children:t.url})]})}return Object(a.useEffect)((function(){fetch(N).then((function(e){return e.json()})).then((function(e){return s(e)})).catch((function(e){return x("error",e)}))}),[j]),Object(o.jsxs)("div",{className:"main-app",children:[Object(o.jsx)("header",{className:"app-header",children:Object(o.jsx)("div",{className:"app-nav",children:Object(o.jsx)("a",{href:"https://www.bt.com/",children:Object(o.jsx)("img",{src:l,className:"app-logo",alt:"logo"})})})}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{className:"container-header",children:"BT React Code Test - by Shahab Ghaleb - 27/04/21"}),Object(o.jsx)("article",{className:"all-news-container",children:Object(o.jsxs)("div",{className:"all-news",children:[Object(o.jsx)("input",{className:"search-input",value:u,onChange:function(e){return t=e.target.value,p(t),void(t.length>0&&" "!==t&&/^[\w ]+$/.test(t)&&h(t));var t},placeholder:"Search..."}),f?Object(o.jsxs)("div",{className:"request-response",children:["No results found.",Object(o.jsx)("br",{}),"Too many calls made: Please try again later"]}):c?c.articles.map((function(e){return Object(o.jsx)(g,{data:e},e.url)})):Object(o.jsx)("div",{className:"request-response",children:"Loading..."})]})})]}),Object(o.jsx)("footer",{className:"app-footer",children:Object(o.jsx)("div",{className:"footer-content",children:"Footer - News article search"})})]})},h=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,12)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(j,{})}),document.getElementById("root")),h()},9:function(e,t,c){}},[[11,1,2]]]);
//# sourceMappingURL=main.286285c6.chunk.js.map