{"version":3,"sources":["logo.svg","js/main.js","reportWebVitals.js","index.js"],"names":["App","useState","newsData","setNewsData","searchData","setSearchData","currentInput","setCurrentInput","url","req","Request","NewsArticle","data","className","title","source","name","description","replace","href","useEffect","fetch","then","response","json","catch","error","console","log","src","logo","alt","value","onChange","e","val","target","length","placeholder","articles","map","newsItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2JAAe,G,KAAA,IAA0B,kC,OCyF1BA,MArFf,WAEE,MAAgCC,qBAAhC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAoCF,mBAAS,MAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KACA,EAAwCJ,mBAAS,IAAjD,mBAAOK,EAAP,KAAqBC,EAArB,KAMMC,EAAG,8CAA0CJ,EAA1C,iBAHQ,aAGR,qBAJQ,GAIR,qCADM,oCAETK,EAAM,IAAIC,QAAQF,GA0BxB,SAASG,EAAT,GAAgC,IAATC,EAAQ,EAARA,KACrB,OACE,0BAASC,UAAU,OAAnB,UACE,iCACE,oBAAIA,UAAU,aAAd,SAA4BD,EAAKE,UAEnC,sBAAMD,UAAU,iBAAhB,SAAkCD,EAAKG,OAAOC,OAC9C,qBAAKH,UAAU,eAAf,SACE,4BAAID,EAAKK,YAAYC,QAAQ,cAAe,gBAE9C,mBAAGC,KAAMP,EAAKJ,IAAKK,UAAU,WAA7B,SAAyCD,EAAKJ,SAMpD,OArCAY,qBAAU,WACRC,MAAMZ,GACHa,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACV,GAAD,OAAUT,EAAYS,MAC3Ba,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,QAC/B,CAACtB,IAiCF,sBAAKS,UAAU,WAAf,UACE,wBAAQA,UAAU,aAAlB,SACE,qBAAKA,UAAU,UAAf,SACE,mBAAGM,KAAK,sBAAR,SAA8B,qBAAKU,IAAKC,EAAMjB,UAAU,WAAWkB,IAAI,eAI3E,sBAAKlB,UAAU,YAAf,UACE,oBAAIA,UAAU,mBAAd,8DAEA,yBAASA,UAAU,qBAAnB,SACE,sBAAKA,UAAU,WAAf,UACE,uBAAOA,UAAU,eAAemB,MAAO1B,EAAc2B,SAAU,SAAAC,GAAC,OAvCpDC,EAuCqED,EAAEE,OAAOJ,MAtClGzB,EAAgB4B,QACZA,EAAIE,OAAS,GAAa,MAARF,GACpB9B,EAAc8B,IAHlB,IAAsBA,GAuCsFG,YAAY,cAE7GpC,EAAWA,EAASqC,SAASC,KAAI,SAACC,GAAD,OAChC,cAAC9B,EAAD,CAAaC,KAAM6B,GAAeA,EAASjC,QAEzC,qBAAKK,UAAU,kBAAf,gCAMV,wBAAQA,UAAU,aAAlB,SACE,qBAAKA,UAAU,iBAAf,gDCtEO6B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBtB,MAAK,YAAkD,IAA/CuB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.41cb1eeb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a732cbbd.svg\";","import '../css/main.css';\r\nimport logo from '../logo.svg';\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nfunction App() {\r\n\r\n  const [newsData, setNewsData] = useState();\r\n  const [searchData, setSearchData] = useState('BT');\r\n  const [currentInput, setCurrentInput] = useState('');\r\n\r\n  const pageSize = 10;\r\n  const dateFrom = '2021-04-26';\r\n\r\n  const apiKey = \"3e7201adfdf84a0691f916e3488a31d8\";\r\n  const url = `https://newsapi.org/v2/everything?q=${searchData}&from=${dateFrom}&pageSize=${pageSize}&sortBy=popularity&apiKey=${apiKey}`\r\n  const req = new Request(url);\r\n\r\n  // ####################################################\r\n  // useEffect hook used to request NewsApi at beginning and when search input onChange.\r\n  // ####################################################\r\n  useEffect(() => {\r\n    fetch(req)\r\n      .then((response) => response.json())\r\n      .then((data) => setNewsData(data)) \r\n      .catch((error) => console.log(error));\r\n  }, [searchData]);\r\n  \r\n  // ####################################################\r\n  // Only request newsApi only for correct input values, else error occurs.\r\n  // It was found that an error occurs when input is no value or 'space' \r\n  // ####################################################\r\n  function updateSearch(val) {\r\n    setCurrentInput(val)\r\n    if (val.length > 0 && val !== ' ') {\r\n      setSearchData(val)\r\n    }\r\n  }\r\n\r\n  // ####################################################\r\n  // News Article - Each article is the chosen layout and css \r\n  // ####################################################\r\n  function NewsArticle({ data }) {\r\n    return (\r\n      <article className=\"news\">\r\n        <header>\r\n          <h2 className=\"news-title\">{data.title}</h2>\r\n        </header>\r\n        <span className=\"news-publisher\">{data.source.name}</span>\r\n        <div className=\"news-content\">\r\n          <p>{data.description.replace(/(.{150})..+/, \"$1â€¦\")}</p>\r\n        </div>\r\n        <a href={data.url} className=\"news-url\">{data.url}</a>\r\n      </article >\r\n    );\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"main-app\">\r\n      <header className=\"app-header\">\r\n        <div className=\"app-nav\">\r\n          <a href=\"https://www.bt.com/\"><img src={logo} className=\"app-logo\" alt=\"logo\" /></a>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"container\">\r\n        <h1 className=\"container-header\">BT React Code Test - by Shahab Ghaleb - 27/04/21</h1>\r\n\r\n        <article className=\"all-news-container\">\r\n          <div className=\"all-news\">\r\n            <input className=\"search-input\" value={currentInput} onChange={e => updateSearch(e.target.value)} placeholder=\"Search...\" />\r\n            {/* Display newsApi if response success, else return 'Loading...' */}\r\n            {newsData ? newsData.articles.map((newsItem) => (\r\n              <NewsArticle data={newsItem} key={newsItem.url} />\r\n            ))\r\n              : <div className=\"initial-loading\">Loading...</div>}\r\n\r\n          </div>\r\n        </article>\r\n      </div>\r\n\r\n      <footer className=\"app-footer\">\r\n        <div className=\"footer-content\">\r\n          Footer - News article search\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './js/main';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}